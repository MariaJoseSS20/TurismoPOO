{% extends "web/base.html" %}

{% block title %}Carrito de Compras - Viajes Aventura{% endblock %}

{% block content %}
<script>
    // Pasar datos del usuario directamente a JavaScript (antes del DOMContentLoaded)
    window.USUARIO_DATA = {% if usuario_data %}{{ usuario_data|tojson|safe }}{% else %}null{% endif %};
</script>
<div id="carrito-page" 
     data-tiene-usuario="{{ 'true' if session.usuario_id else 'false' }}"
     data-usuario-rol="{{ usuario_rol|default('') }}">
<div class="container py-5">
    <div class="row">
        <div class="col-12">
            <h1 class="mb-4 fw-bold">
                <i class="bi bi-cart-fill text-success me-2"></i>Carrito de Compras
            </h1>
        </div>
    </div>
    
    <div id="carrito-container" class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body p-5 text-center">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Cargando...</span>
                    </div>
                    <p class="mt-3 text-muted">Cargando carrito...</p>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/carrito.js') }}"></script>
{% endblock %}
